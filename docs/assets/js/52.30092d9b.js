(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{499:function(e,t,r){"use strict";r.r(t);r(157),r(166),r(159),r(108),r(64),r(117),r(61),r(45),r(77),r(239);var s=r(103),i=r(3);var n,o=(n=r(408))&&"object"===Object(s.a)(n)&&"default"in n?n.default:n,a=Object.assign||function(e){for(var t=arguments,r=1;r<arguments.length;r++){var s=t[r];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},l={lineNumbers:!0,mode:"text/x-vue",theme:"material",tabSize:2},u={name:"VueCodeMirror",props:["value","options"],render:function(e){return e("div",null,[e("textarea",{ref:"textarea"},this.value)])},mounted:function(){this.currentOptions=a({},l,this.options),this.editor=o.fromTextArea(this.$refs.textarea,this.currentOptions),this.editor.on("change",this.handleChange)},watch:{value:function(e){e!==this.editor.getValue()&&this.editor.setValue(e)}},methods:{handleChange:function(){this.$emit("change",this.editor.getValue())}}},c={name:"preview",props:["value","styles","keepData","iframe"],render:function(e){return this.className="vuep-scoped-"+this._uid,e(this.iframe?"iframe":"div",{class:this.className},[this.scopedStyle?e("style",null,this.scopedStyle):""])},computed:{scopedStyle:function(){return this.styles?(e=this.styles,t="."+this.className,e.trim().replace(/(^|\})\s*([^{]+)/g,(function(e,r,s){return r?r+" "+t+" "+s:t+" "+s}))):"";var e,t}},mounted:function(){this.$watch("value",this.renderCode,{immediate:!0})},methods:{renderCode:function(e){var t,r,s=this.keepData&&this.codeVM&&a({},this.codeVM.$data),n=this.iframe?this.$el.contentDocument.body:this.$el;if(this.codeVM&&(this.codeVM.$destroy(),n.removeChild(this.codeVM.$el)),this.codeEl=document.createElement("div"),n.appendChild(this.codeEl),this.iframe){var o=this.$el.contentDocument.head;if(this.styleEl)for(var l in o.removeChild(this.styleEl),this.styleNodes)o.removeChild(this.styleNodes[l]);this.styleEl=document.createElement("style"),this.styleEl.appendChild(document.createTextNode(this.styles)),this.styleNodes=[];var u=(t=document.querySelectorAll('link[rel="stylesheet"]'),r=document.querySelectorAll("style"),Array.from(t).concat(Array.from(r)));for(var c in u)this.styleNodes[c]=u[c].cloneNode(!0),o.appendChild(this.styleNodes[c]);o.appendChild(this.styleEl)}try{if(this.codeVM=new i.default(a({},{parent:this},e)).$mount(this.codeEl),s)for(var h in s)this.codeVM[h]=s[h]}catch(e){this.$emit("error",e)}}}};var h=/\.((js)|(jsx))$/;var d={};function p(e,t){if(void 0===t&&(t={}),"undefined"!=typeof Babel){var r=[];window["babel-plugin-transform-vue-jsx"]&&(Babel.availablePlugins["transform-vue-jsx"]||Babel.registerPlugin("transform-vue-jsx",window["babel-plugin-transform-vue-jsx"]),r.push("transform-vue-jsx")),e=Babel.transform(e,{presets:[["es2015",{loose:!0}]],plugins:r,comments:!1}).code}var s="";for(var i in t)t.hasOwnProperty(i)&&(s+="var "+i+" = __vuep['"+i+"'];");return e="(function(exports){var module={};module.exports=exports;"+s+";"+e+";return module.exports.__esModule?module.exports.default:module.exports;})({})",new Function("__vuep","return "+e)(t)||{}}window.require=function(e){if(h.test(e))return function(e){var t=new XMLHttpRequest;if(d[e])return d[e];t.open("GET",e,!1),t.send();var r=t.responseText;return d[e]=p(r),d[e]}(e)};var m={name:"Vuep",props:{template:String,options:{},keepData:Boolean,value:String,scope:Object,iframe:Boolean},data:function(){return{content:"",preview:"",styles:"",error:""}},render:function(e){var t,r=this;return t=this.error?e("div",{class:"vuep-error"},[this.error]):e(c,{class:"vuep-preview",props:{value:this.preview,styles:this.styles,keepData:this.keepData,iframe:this.iframe},on:{error:this.handleError}}),e("div",{class:"vuep"},[e(u,{class:"vuep-editor",props:{value:this.content,options:this.options},on:{change:[this.executeCode,function(e){return r.$emit("input",e)}]}}),t])},watch:{value:{immediate:!0,handler:function(e){e&&this.executeCode(e)}}},created:function(){if(!this.$isServer){var e=this.template;if(/^[\.#]/.test(this.template)){var t=document.querySelector(this.template);if(!t)throw Error(this.template+" is not found");e=t.innerHTML}e&&(this.executeCode(e),this.$emit("input",e))}},methods:{handleError:function(e){this.error=e},executeCode:function(e){this.error="";var t=function(e){var t=document.createElement("div"),r=t.innerHTML=e.trim();try{var s=t.querySelector("template"),i=t.querySelector("script"),n=Array.prototype.slice.call(t.querySelectorAll("style")).map((function(e){return e.innerHTML}));return s||i||n.length?{content:/<\/script>$/g.test(r)?r:r+"\n<\/script>",template:s?s.innerHTML:"",script:i?i.innerHTML:"",styles:n}:{content:r,script:r}}catch(e){return{error:e}}}(e);if(t.error)this.error=t.error.message;else{var r=function(e,t){var r=e.template,s=e.script;void 0===s&&(s="module.exports={}");var i=e.styles;void 0===t&&(t={});try{if("module.exports={}"===s&&!r)throw Error("no data");var n=p(s,t);return r&&(n.template=r),{result:n,styles:i&&i.join(" ")}}catch(e){return{error:e}}}(t,this.scope);r.error?this.error=r.error.message:(this.content=t.content,this.preview=r.result,r.styles&&(this.styles=r.styles))}}}};function f(e,t){m.config(t),e.component(m.name,m)}m.config=function(e){m.props.options.default=function(){return e}},m.install=f,"undefined"!=typeof Vue&&Vue.use(f),r(433),r(434),r(411),r(435),r(412),r(465),r(414),r(472),t.default=m}}]);